# OIDC Configuration Generator CLI

Ensure that you have installed `Python3` and `Pip3` as part of the Pre-requisites.

## Install Python Dependencies

```sh
pip install -r requirements.txt
```

## Use the CLI

```sh
python cli.py \
	--client_id client-id \ 
	--client_secret client-secret \
	--cloudfront_host cloudfront-host \
	--idp_domain_name idp-domain-name \
	--idp_name idp
```

### Arguments / Flags

- `--client_id` **(required)** = the IdP Registered Application Client ID.
- `--client_secret` **(required)** = the IdP Registered Application Client Secret.
- `--cloudfront_host` **(required)** = the host name of the Amazon Cloudfront Distribution.
- `--idp_domain_name` **(required)** = the domain name generated by your IdP for OIDC.
- `--idp_name` **(required)** = the name of your IdP (e.g. Cognito).

This will produce the following two files in the same directory:
1. `cloudfront_config_rendered.json` = this is the rendered configuration file with all of the supplied parameters from the CLI above.
2. `encoded_cloudfront_config_rendered.json` = this is the key-value pair JSON document with the Base64 encoded JSON document from the first file. It is a key-value pair in the format that this should be stored in AWS Secrets Manager.

